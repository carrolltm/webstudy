---
typora-root-url: images
typora-copy-images-to: images
---

# vue3源码

​	数据和模板生成DOM结构。

vue里面的$属的基本都是只读的，`_`开头的比如data是可读可写的。

里面show是我自己写在methods里面的函数。

![image-20210201112507425](/../图片/image-20210201112507425.png)

渲染：

模板+数据=》html=》加载到页面中。



效果：

​	页面的{{message}}的值替换为data里面的值

步骤：

将模板和数据结合，得到真正的DOM元素

将模板数据加到页面

真正的是生成一个虚拟DOM来判断是否渲染。



## 函数柯里化

跟函数编译有关，优化性能



## 虚拟DOM

将真正的DOM转换为虚拟DOM

将虚拟DOM转换为真正的DOM

虚拟DOM主要考虑到性能

标签，文本，属性

## evan you讲源码

### 响应式

状态变更，不断更新页面的变换，在web场景下，将不断变换的状态反应到DOM上的变换。

拦截你的事件（如点击），检测所以属性，判断是否更改。

重写所有的getter和setter方法。

## Diff算法

![image-20210203162801648](/image-20210203162801648.png)

![image-20210203162754389](/image-20210203162754389.png)

![image-20210203162744745](/image-20210203162744745.png)

snabbdom是用Ts写的。

![image-20210203163242324](/image-20210203163242324.png)

`npm i -S snabbdom`  这是测试代码。